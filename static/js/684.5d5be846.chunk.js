"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[684],{338:function(e,t,n){n.d(t,{Hg:function(){return u},al:function(){return m},jP:function(){return f},qF:function(){return x},t2:function(){return p},zv:function(){return h}});var r=n(861),a=n(687),c=n.n(a),s="cedb0d61b1d63f0d25850ca71581631f",i="https://api.themoviedb.org/3/";function u(){return o.apply(this,arguments)}function o(){return(o=(0,r.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(i,"trending/all/week?api_key=").concat(s));case 3:if(200!==(t=e.sent).status){e.next=11;break}return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n.results.map((function(e){return{id:e.id,name:e.name||e.title}})));case 11:return e.abrupt("return",[]);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(i,"movie/").concat(t,"?api_key=").concat(s,"&language=en-US"));case 3:if(200!==(n=e.sent).status){e.next=11;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.abrupt("return",{});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function f(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(i,"movie/").concat(t,"/reviews?api_key=").concat(s,"&language=en-US&page=1"));case 3:if(200!==(n=e.sent).status){e.next=11;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.results.map((function(e){return{author:e.author,content:e.content,id:e.id}})));case 11:return e.abrupt("return",[]);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(i,"movie/").concat(t,"/credits?api_key=").concat(s,"&language=en-US&page=1"));case 3:if(200!==(n=e.sent).status){e.next=12;break}return e.next=7,n.json();case 7:return r=e.sent,a=r.cast.map((function(e){return{id:e.id,name:e.name,original_name:e.original_name,popularity:e.popularity,profile_path:e.profile_path,character:e.character}})),e.abrupt("return",a);case 12:return e.abrupt("return",[]);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function x(){return g.apply(this,arguments)}function g(){return g=(0,r.Z)(c().mark((function e(){var t,n,r,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:"",e.prev=1,""!==t){e.next=4;break}return e.abrupt("return",[]);case 4:return e.next=6,fetch("".concat(i,"search/movie?api_key=").concat(s,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 6:if(200!==(n=e.sent).status){e.next=14;break}return e.next=10,n.json();case 10:return r=e.sent,e.abrupt("return",r.results.map((function(e){return{id:e.id,name:e.name||e.title}})));case 14:return e.abrupt("return",[]);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.error(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[1,17]])}))),g.apply(this,arguments)}function m(e){return"https://image.tmdb.org/t/p/w500"+e}},684:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r,a,c,s,i,u=n(439),o=n(338),p=n(168),l=n(934),f=l.Z.p(r||(r=(0,p.Z)(["\n  display: flex;\n  gap: 5px;\n"]))),d=n(184),h=function(e){var t=e.title,n=e.description;return(0,d.jsxs)(f,{children:[(0,d.jsx)("span",{children:t}),(0,d.jsx)("span",{children:n})]})},v=l.Z.div(a||(a=(0,p.Z)(["\n  display: flex;\n  gap: 20px;\n"]))),x=l.Z.div(c||(c=(0,p.Z)(["\n  width: 300px;\n  height: 450px;\n  overflow: hidden;\n\n  border-radius: 10px;\n"]))),g=l.Z.img(s||(s=(0,p.Z)(["\n  object-fit: cover;\n"]))),m=l.Z.div(i||(i=(0,p.Z)(["\n  width: 600px;\n"]))),b=function(e){var t=e.movieInfo;console.dir(t);var n,r;return(0,d.jsxs)(v,{children:[(0,d.jsx)(x,{children:(0,d.jsx)(g,{src:t.poster_path?(0,o.al)(t.poster_path):"https://via.placeholder.com/300x400"})}),(0,d.jsxs)(m,{children:[(0,d.jsxs)("h1",{children:[t.title," ",(r=t.release_date,""!==r?"(".concat(new Date(r).getFullYear(),")"):"")]}),(0,d.jsx)("p",{children:t.tagline}),(0,d.jsx)(h,{title:"Vote:",description:t.vote_average}),(0,d.jsx)(h,{title:"Popularity:",description:t.popularity}),(0,d.jsx)(h,{title:"Overview:",description:t.overview}),(0,d.jsx)(h,{title:"Genre:",description:(n=t.genres,n.map((function(e){return e.name})).join(", "))})]})]})},j=n(791),k=n(87),w=n(689),y=function(){var e,t,n=(0,w.UO)().id,r=(0,j.useState)(null),a=(0,u.Z)(r,2),c=a[0],s=a[1],i=(0,j.useRef)(!0),p=null!==(e=null===(t=(0,w.TH)().state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/";return console.log("movieInfo",c),(0,j.useEffect)((function(){i.current&&(i.current=!1,(0,o.t2)(n).then((function(e){var t=e.genres,n=e.id,r=e.overview,a=e.popularity,c=e.poster_path,i=e.release_date,u=e.tagline,o=e.title,p=e.vote_average;s({genres:t,id:n,overview:r,popularity:a,poster_path:c,release_date:i,tagline:u,title:o,vote_average:p})})))}),[n]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(k.rU,{to:p,children:"Go back"}),c&&(0,d.jsx)(b,{movieInfo:c}),(0,d.jsx)(k.rU,{to:"cast",children:"Cast"}),(0,d.jsx)(k.rU,{to:"review",children:"Review"}),(0,d.jsx)(j.Suspense,{fallback:(0,d.jsx)("div",{children:"Loading page..."}),children:(0,d.jsx)(w.j3,{})})]})}}}]);
//# sourceMappingURL=684.5d5be846.chunk.js.map